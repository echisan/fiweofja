# 如何配置kafka无消息丢失

**Kafka 只对“已提交”的消息（committed message）做有限度的持久化保证。- **

两个核心要素：

**已提交的消息**

当 Kafka 的若干个 Broker 成功地接收到一条消息并写入到日志文件后，它们会告诉生产者程序这条消息已成功提交。此时，这条消息在 Kafka 看来就正式变为“已提交”消息了。

> 可以选择只要有一个 Broker 成功保存该消息就算是已提交，也可以是令所有 Broker 都成功保存该消息才算是已提交。



**有限度的持久化保证**

只要消息保存在N个kafka broker上，这N个broker中至少一个存活，kafka就能保证这条消息永远不会丢。



